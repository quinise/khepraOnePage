<div class="container mt-5">
  <mat-card class="mat-elevation-z4">
    <mat-card-header>
      <mat-card-title class="text-primary">Update Account Information</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="accountForm" (ngSubmit)="onSubmit()">
        <!-- Re-authentication Section -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Current Password</mat-label>
          <input matInput type="password" formControlName="currentPassword" required>
          <mat-hint>Please enter your current password to confirm changes.</mat-hint>
        </mat-form-field>
  
        <!-- Email Update Section -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>New Email Address</mat-label>
          <input matInput type="email" formControlName="newEmail">
        </mat-form-field>
        <div *ngIf="accountForm.hasError('requireAtLeastOne') && accountForm.touched">
          <span class="error">Please provide either a new email or a new password.</span>
        </div>
  
        <!-- Password Update Section -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>New Password</mat-label>
          <input matInput type="password" formControlName="newPassword">
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Confirm New Password</mat-label>
          <input matInput type="password" formControlName="confirmNewPassword">
        </mat-form-field>
        <div *ngIf="accountForm.hasError('passwordMismatch') && accountForm.touched">
          <span class="error">Passwords do not match.</span>
        </div>

        <!-- Submit Button -->
        <button class="btn btn-sm btn-primary mt-2 mx-3" mat-raised-button color="primary" type="submit">Update Account</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>